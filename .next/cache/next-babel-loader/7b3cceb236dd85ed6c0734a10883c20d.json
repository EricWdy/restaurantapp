{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u9053\\u5143\\\\Documents\\\\\\u5168\\u6808\\u8BFE\\u7A0B\\\\Week28\\\\set Apollo\\\\components\\\\cart.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Button, Card, CardBody, CardTitle, Badge } from \"reactstrap\";\nimport AppContext from \"./context\";\nimport Link from \"next/link\"; // we can pass cart data in via props method\n// the alternative is using useContext as below\n\nfunction Cart({\n  buttonDisplay\n}) {\n  console.log(buttonDisplay);\n\n  if (buttonDisplay === null) {\n    buttonDisplay = true;\n  }\n\n  let {\n    cart,\n    addItem,\n    removeItem,\n    isAuthenticated\n  } = useContext(AppContext); //const [cartA, setCartA] = useState({cart})\n  //cart = value.cart;\n  //console.log('props:'+ JSON.stringify(value));\n\n  console.log(`in CART: ${JSON.stringify(cart)}`); //   problem is that cart may not be set\n\n  const router = useRouter();\n  console.log(`Router Path: ${JSON.stringify(router)}`);\n\n  const renderItems = () => {\n    let {\n      items\n    } = cart;\n    console.log(`items: ${JSON.stringify(items)}`);\n\n    if (items && items.length) {\n      var itemList = cart.items.map(item => {\n        if (item.quantity > 0) {\n          return __jsx(\"div\", {\n            className: \"items-one\",\n            style: {\n              marginBottom: 15\n            },\n            key: item.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 13\n            }\n          }, __jsx(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 15\n            }\n          }, __jsx(\"span\", {\n            id: \"item-price\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 17\n            }\n          }, \"\\xA0 $\", item.price), __jsx(\"span\", {\n            id: \"item-name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 17\n            }\n          }, \"\\xA0 \", item.name)), __jsx(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 15\n            }\n          }, __jsx(Button, {\n            style: {\n              height: 25,\n              padding: 0,\n              width: 15,\n              marginRight: 5,\n              marginLeft: 10\n            },\n            onClick: () => addItem(item),\n            color: \"link\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 17\n            }\n          }, \"+\"), __jsx(Button, {\n            style: {\n              height: 25,\n              padding: 0,\n              width: 15,\n              marginRight: 10\n            },\n            onClick: () => removeItem(item),\n            color: \"link\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }\n          }, \"-\"), __jsx(\"span\", {\n            style: {\n              marginLeft: 5\n            },\n            id: \"item-quantity\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }\n          }, item.quantity, \"x\")));\n        }\n      });\n      return itemList;\n    } else {\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  const checkoutItems = () => {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, __jsx(Badge, {\n      style: {\n        width: 200,\n        padding: 10\n      },\n      color: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, __jsx(\"h5\", {\n      style: {\n        fontWeight: 100,\n        color: \"gray\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, \"Total:\"), __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, \"$\", cart.total)), buttonDisplay ? __jsx(Link, {\n      href: \"/checkout/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 10\n      }\n    }, __jsx(Button, {\n      style: {\n        width: \"60%\"\n      },\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, \"Order\"))) : __jsx(React.Fragment, null));\n  }; // return Cart\n\n\n  return isAuthenticated ? __jsx(\"div\", {\n    className: \"jsx-3161218026\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-3161218026\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, \"Cart\"), __jsx(Card, {\n    style: {\n      padding: \"10px 5px\"\n    },\n    className: \"cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, __jsx(CardTitle, {\n    style: {\n      margin: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"Your Order:\"), __jsx(\"hr\", {\n    className: \"jsx-3161218026\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }), __jsx(CardBody, {\n    style: {\n      padding: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginBottom: 6\n    },\n    className: \"jsx-3161218026\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, __jsx(\"small\", {\n    className: \"jsx-3161218026\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Items:\")), __jsx(\"div\", {\n    className: \"jsx-3161218026\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, renderItems()), __jsx(\"div\", {\n    className: \"jsx-3161218026\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, checkoutItems()), console.log(`Router Path: ${router.asPath}`))), __jsx(_JSXStyle, {\n    id: \"3161218026\",\n    __self: this\n  }, \"#item-price.jsx-3161218026{font-size:1.3em;color:rgba(97,97,97,1);}#item-quantity.jsx-3161218026{font-size:0.95em;padding-bottom:4px;color:rgba(158,158,158,1);}#item-name.jsx-3161218026{font-size:1.3em;color:rgba(97,97,97,1);}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xc6YGT5YWDXFxEb2N1bWVudHNcXOWFqOagiOivvueoi1xcV2VlazI4XFxzZXQgQXBvbGxvXFxjb21wb25lbnRzXFxjYXJ0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQThHa0IsQUFHMkIsQUFJQyxBQUtELGdCQVJVLEFBU0EsQ0FMUCxtQkFDVSxHQUovQixBQVNBLHVCQUpBIiwiZmlsZSI6IkM6XFxVc2Vyc1xc6YGT5YWDXFxEb2N1bWVudHNcXOWFqOagiOivvueoi1xcV2VlazI4XFxzZXQgQXBvbGxvXFxjb21wb25lbnRzXFxjYXJ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgQnV0dG9uLCBDYXJkLCBDYXJkQm9keSwgQ2FyZFRpdGxlLCBCYWRnZSB9IGZyb20gXCJyZWFjdHN0cmFwXCI7XG5pbXBvcnQgQXBwQ29udGV4dCBmcm9tIFwiLi9jb250ZXh0XCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG4vLyB3ZSBjYW4gcGFzcyBjYXJ0IGRhdGEgaW4gdmlhIHByb3BzIG1ldGhvZFxuLy8gdGhlIGFsdGVybmF0aXZlIGlzIHVzaW5nIHVzZUNvbnRleHQgYXMgYmVsb3dcbmZ1bmN0aW9uIENhcnQoe2J1dHRvbkRpc3BsYXl9KSB7XG4gIGNvbnNvbGUubG9nKGJ1dHRvbkRpc3BsYXkpXG4gIGlmIChidXR0b25EaXNwbGF5PT09bnVsbCl7XG4gICAgYnV0dG9uRGlzcGxheSA9IHRydWU7XG4gIH1cbiAgbGV0IHsgY2FydCwgYWRkSXRlbSwgcmVtb3ZlSXRlbSwgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xuICAvL2NvbnN0IFtjYXJ0QSwgc2V0Q2FydEFdID0gdXNlU3RhdGUoe2NhcnR9KVxuICAvL2NhcnQgPSB2YWx1ZS5jYXJ0O1xuICAvL2NvbnNvbGUubG9nKCdwcm9wczonKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICBjb25zb2xlLmxvZyhgaW4gQ0FSVDogJHtKU09OLnN0cmluZ2lmeShjYXJ0KX1gKTtcblxuICAvLyAgIHByb2JsZW0gaXMgdGhhdCBjYXJ0IG1heSBub3QgYmUgc2V0XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zb2xlLmxvZyhgUm91dGVyIFBhdGg6ICR7SlNPTi5zdHJpbmdpZnkocm91dGVyKX1gKTtcbiAgY29uc3QgcmVuZGVySXRlbXMgPSAoKSA9PiB7XG4gICAgbGV0IHsgaXRlbXMgfSA9IGNhcnQ7XG4gICAgY29uc29sZS5sb2coYGl0ZW1zOiAke0pTT04uc3RyaW5naWZ5KGl0ZW1zKX1gKTtcbiAgICBpZiAoaXRlbXMgJiYgaXRlbXMubGVuZ3RoKSB7XG4gICAgICB2YXIgaXRlbUxpc3QgPSBjYXJ0Lml0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5xdWFudGl0eSA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtcy1vbmVcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDE1IH19XG4gICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cIml0ZW0tcHJpY2VcIj4mbmJzcDsgJHtpdGVtLnByaWNlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cIml0ZW0tbmFtZVwiPiZuYnNwOyB7aXRlbS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyNSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogNSxcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogMTAsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYWRkSXRlbShpdGVtKX1cbiAgICAgICAgICAgICAgICAgIGNvbG9yPVwibGlua1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgK1xuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjUsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IDEwLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlbW92ZUl0ZW0oaXRlbSl9XG4gICAgICAgICAgICAgICAgICBjb2xvcj1cImxpbmtcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIC1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBtYXJnaW5MZWZ0OiA1IH19IGlkPVwiaXRlbS1xdWFudGl0eVwiPlxuICAgICAgICAgICAgICAgICAge2l0ZW0ucXVhbnRpdHl9eFxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtTGlzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxkaXY+PC9kaXY+O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY2hlY2tvdXRJdGVtcyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPEJhZGdlIHN0eWxlPXt7IHdpZHRoOiAyMDAsIHBhZGRpbmc6IDEwIH19IGNvbG9yPVwibGlnaHRcIj5cbiAgICAgICAgICA8aDUgc3R5bGU9e3sgZm9udFdlaWdodDogMTAwLCBjb2xvcjogXCJncmF5XCIgfX0+VG90YWw6PC9oNT5cbiAgICAgICAgICA8aDM+JHtjYXJ0LnRvdGFsfTwvaDM+XG4gICAgICAgIDwvQmFkZ2U+XG4gICAgICAgIHtidXR0b25EaXNwbGF5ID8gXG4gICAgICAgICg8TGluayBocmVmPVwiL2NoZWNrb3V0L1wiPlxuICAgICAgICAgIDxCdXR0b24gc3R5bGU9e3sgd2lkdGg6IFwiNjAlXCIgfX0gY29sb3I9XCJwcmltYXJ5XCI+XG4gICAgICAgICAgICA8YT5PcmRlcjwvYT5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9MaW5rPikgOiAoPD48Lz4pfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICAvLyByZXR1cm4gQ2FydFxuICByZXR1cm4gaXNBdXRoZW50aWNhdGVkID8gKFxuICAgIDxkaXY+XG4gICAgICA8aDE+Q2FydDwvaDE+XG4gICAgICA8Q2FyZCBzdHlsZT17eyBwYWRkaW5nOiBcIjEwcHggNXB4XCIgfX0gY2xhc3NOYW1lPVwiY2FydFwiPlxuICAgICAgICA8Q2FyZFRpdGxlIHN0eWxlPXt7IG1hcmdpbjogMTAgfX0+WW91ciBPcmRlcjo8L0NhcmRUaXRsZT5cbiAgICAgICAgPGhyIC8+XG4gICAgICAgIDxDYXJkQm9keSBzdHlsZT17eyBwYWRkaW5nOiAxMCB9fT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogNiB9fT5cbiAgICAgICAgICAgIDxzbWFsbD5JdGVtczo8L3NtYWxsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+e3JlbmRlckl0ZW1zKCl9PC9kaXY+XG4gICAgICAgICAgPGRpdj57Y2hlY2tvdXRJdGVtcygpfTwvZGl2PlxuXG4gICAgICAgICAge2NvbnNvbGUubG9nKGBSb3V0ZXIgUGF0aDogJHtyb3V0ZXIuYXNQYXRofWApfVxuICAgICAgICA8L0NhcmRCb2R5PlxuICAgICAgPC9DYXJkPlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAjaXRlbS1wcmljZSB7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjNlbTtcbiAgICAgICAgICBjb2xvcjogcmdiYSg5NywgOTcsIDk3LCAxKTtcbiAgICAgICAgfVxuICAgICAgICAjaXRlbS1xdWFudGl0eSB7XG4gICAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDRweDtcbiAgICAgICAgICBjb2xvcjogcmdiYSgxNTgsIDE1OCwgMTU4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICAjaXRlbS1uYW1lIHtcbiAgICAgICAgICBmb250LXNpemU6IDEuM2VtO1xuICAgICAgICAgIGNvbG9yOiByZ2JhKDk3LCA5NywgOTcsIDEpO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICkgOiAoPGRpdj5QbGVhc2Ugc2lnbiBpbiBmaXJzdCE8L2Rpdj4pXG59XG5leHBvcnQgZGVmYXVsdCBDYXJ0O1xuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\\\u9053\\u5143\\\\\\\\Documents\\\\\\\\\\u5168\\u6808\\u8BFE\\u7A0B\\\\\\\\Week28\\\\\\\\set Apollo\\\\\\\\components\\\\\\\\cart.js */\")) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 8\n    }\n  }, \"Please sign in first!\");\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Users/道元/Documents/全栈课程/Week28/set Apollo/components/cart.js"],"names":["React","useContext","useRouter","Button","Card","CardBody","CardTitle","Badge","AppContext","Link","Cart","buttonDisplay","console","log","cart","addItem","removeItem","isAuthenticated","JSON","stringify","router","renderItems","items","length","itemList","map","item","quantity","marginBottom","id","price","name","height","padding","width","marginRight","marginLeft","checkoutItems","fontWeight","color","total","margin","asPath"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Button, Card, CardBody, CardTitle, Badge } from \"reactstrap\";\nimport AppContext from \"./context\";\nimport Link from \"next/link\";\n// we can pass cart data in via props method\n// the alternative is using useContext as below\nfunction Cart({buttonDisplay}) {\n  console.log(buttonDisplay)\n  if (buttonDisplay===null){\n    buttonDisplay = true;\n  }\n  let { cart, addItem, removeItem, isAuthenticated } = useContext(AppContext);\n  //const [cartA, setCartA] = useState({cart})\n  //cart = value.cart;\n  //console.log('props:'+ JSON.stringify(value));\n  console.log(`in CART: ${JSON.stringify(cart)}`);\n\n  //   problem is that cart may not be set\n  const router = useRouter();\n  console.log(`Router Path: ${JSON.stringify(router)}`);\n  const renderItems = () => {\n    let { items } = cart;\n    console.log(`items: ${JSON.stringify(items)}`);\n    if (items && items.length) {\n      var itemList = cart.items.map((item) => {\n        if (item.quantity > 0) {\n          return (\n            <div\n              className=\"items-one\"\n              style={{ marginBottom: 15 }}\n              key={item.id}\n            >\n              <div>\n                <span id=\"item-price\">&nbsp; ${item.price}</span>\n                <span id=\"item-name\">&nbsp; {item.name}</span>\n              </div>\n              <div>\n                <Button\n                  style={{\n                    height: 25,\n                    padding: 0,\n                    width: 15,\n                    marginRight: 5,\n                    marginLeft: 10,\n                  }}\n                  onClick={() => addItem(item)}\n                  color=\"link\"\n                >\n                  +\n                </Button>\n                <Button\n                  style={{\n                    height: 25,\n                    padding: 0,\n                    width: 15,\n                    marginRight: 10,\n                  }}\n                  onClick={() => removeItem(item)}\n                  color=\"link\"\n                >\n                  -\n                </Button>\n                <span style={{ marginLeft: 5 }} id=\"item-quantity\">\n                  {item.quantity}x\n                </span>\n              </div>\n            </div>\n          );\n        }\n      });\n      return itemList;\n    } else {\n      return <div></div>;\n    }\n  };\n  const checkoutItems = () => {\n    return (\n      <div>\n        <Badge style={{ width: 200, padding: 10 }} color=\"light\">\n          <h5 style={{ fontWeight: 100, color: \"gray\" }}>Total:</h5>\n          <h3>${cart.total}</h3>\n        </Badge>\n        {buttonDisplay ? \n        (<Link href=\"/checkout/\">\n          <Button style={{ width: \"60%\" }} color=\"primary\">\n            <a>Order</a>\n          </Button>\n        </Link>) : (<></>)}\n      </div>\n    );\n  };\n\n  // return Cart\n  return isAuthenticated ? (\n    <div>\n      <h1>Cart</h1>\n      <Card style={{ padding: \"10px 5px\" }} className=\"cart\">\n        <CardTitle style={{ margin: 10 }}>Your Order:</CardTitle>\n        <hr />\n        <CardBody style={{ padding: 10 }}>\n          <div style={{ marginBottom: 6 }}>\n            <small>Items:</small>\n          </div>\n          <div>{renderItems()}</div>\n          <div>{checkoutItems()}</div>\n\n          {console.log(`Router Path: ${router.asPath}`)}\n        </CardBody>\n      </Card>\n      <style jsx>{`\n        #item-price {\n          font-size: 1.3em;\n          color: rgba(97, 97, 97, 1);\n        }\n        #item-quantity {\n          font-size: 0.95em;\n          padding-bottom: 4px;\n          color: rgba(158, 158, 158, 1);\n        }\n        #item-name {\n          font-size: 1.3em;\n          color: rgba(97, 97, 97, 1);\n        }\n      `}</style>\n    </div>\n  ) : (<div>Please sign in first!</div>)\n}\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}